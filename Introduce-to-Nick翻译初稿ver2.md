# 网络革命者 Nick Mckeown教授

Nick Mckeown教授给予了这个世界推动互联网发展的技术，但是接下来他计划取代这些他曾经施以援手的网络。

## Chapter1 引言

在英国的苏塞克斯郡与美国的加利福尼亚州的连线之间，很难再觅得比Nick McKeown FREng教授更加适合采访的人选。毕竟，他PhD生涯中的研究将路由器处理速度提升了近十倍，使整个互联网络能够承载来自Skype等其他网络服务的大量流量。

回溯到上个世纪八十年代，在毗邻布里斯托尔市的Hewlett Packard(HP)实验室，McKeown接受了他人生中的首次研究工作。在当时，他希望从事人工智能(Artificial Intelligence)或者是计算机系统架构这些在现在看来无疑是热点话题的研究，但HP实验室决定让McKeown投身于互联网路由器架构领域。这些事情发生在万维网(World Wide Web)发明以及人们接受这些概念之前，那时的网络连接还仅局限于分散于各地、各组织的巨型计算机之间。自HP实验室做出这一决定起，McKeown教授便一直站在网络架构领域的浪潮之巅。

## Chapter2 思维成型

虽然McKeown在HP实验室的工作是被别人指派的，但情况并不总是这样：倘若在中学时他听从职业选择导师的建议，那么他现在所从事的工作应该和工程师完全不沾边。McKeown透露说，在他考虑是否要学习和工程师相关的知识时，他的父亲(Pat McKeown FREng教授)同时也是一位杰出的工程师和企业家，鼓励了他。McKeown回忆起那时职业导师的回复：“以你的聪明才智胜任工程师绰绰有余，你应该去做一些更加有创造性的东西。” “好吧，那我就去当一名工程师！” 他笑着说。

现任斯坦福大学担任电气工程与计算机科学学院的McKeown教授愉快地将这段往事和其所造成的影响联系了起来。他担保称现在与母校，包括毗邻英国的苏塞克斯郡的Wootton Upper学校之间仍然有进行联系，以保证对下一代的教育中不会发生类似忽略工程师的重要性及创造性的事情。

McKeown所采取的一种方法是以在斯坦福改进的一套教学方法为学校的学生们教授课程。在伊斯坦布尔，四名来自他在贝德福德郡的母校的学生参与到了他的100人左右的课堂中。在那里，McKeown教授和其它的同事对来自土耳其和英国高等院校的学生进行Java编程的教学，并将其作为计算机科学的导论课程。相比传统的'ICT'和'IT'课程，McKeown偏爱这个更加贴近计算机和网络的主题而不是软件开发、编程的学期，他说：“这些课程(软件开发等)是很重要，但是与计算机科学的工程学科完全不同。这相当于把一个机械工程师说成是一名技工！”

McKeown教授来到加州并进入计算机网络领域的过程并不简单。最初，他来到美国的达勒姆大学修读机械工程的学位，但是他发现达勒姆非常不合时宜以及“从工程师的角度看来，(教育)有点过时”。因此在一年之后，“为了和
[Adrian Moorhouse](https://en.wikipedia.org/wiki/Adrian_Moorhouse)(他在1988年的首尔奥运会获得了金牌)一起游泳”，McKeown教授离开了达勒姆并前往利兹。“因为那时候英国有太多的优秀蛙泳运动员”，McKeown教授很遗憾地与1984年的英国游泳国家队擦肩而过。

但他在利兹的生活也不仅仅只有游泳，在修读电与电气工程学科的学位的同时，McKeown获得了[GEC-Marconi](https://en.wikipedia.org/wiki/Marconi_Electronic_Systems)的奖学金
并在一年之后获得了英国国家工程学的全额奖学金。

1986年毕业之后，McKeown加入了布里斯托尔市的HP实验室。彼时，在英国的研究领域，PhD学位对于找到一份工作来说影响并不大，但对工作在加州帕洛阿尔托的HP主研发中心的每一个人来说，PhD学位是必须的，可是英国也没有足够的人员拥有工程学的PhD学位，“所以他们接纳了一群刚刚从本科毕业的人。我逐渐意识到我所学的知识是多么有限，他们给予了我们非常宝贵的经验、资金昂贵的教育，给我们发薪水，还容许我们犯一大堆的错误、造轮子。多么难以置信的、美妙的学徒工作。”

这个想法使McKeown仔细思考当时英国的情况。他说，彼时HP实验室的难题是“一种十分糟糕的工程领域及工程学教育状态的反映”，政府认为技术领域没有未来，没有人在意制造行业。这也解释了为什么在McKeown毕业时，对于电气工程的毕业生来说，最受欢迎的职业是会计，紧接着是测量，而工程学仅位于第三位。

## Chapter3 西海岸的巧夺天工

对于一名十分热爱工程学的研究者，特别是当加利福尼亚的激情与其喷涌而出的技术行业在他的工作中彰显时，美国无疑看上去对他是一个更好、更具吸引力的选择。

McKeown在加州大学的伯克利分校进行学术硕士生涯的研究，之后他PhD的工作转向了计算机网络领域，其PhD课题的官方名称是“Scheduling Cells in an Input-Queued Cell Switch”，但McKeown解释说它真正做的事情是考虑如何尽可能地提升路由器和交换机的速度。这个课题始于硕士的课程，McKeown和他的三名硕士学生一起发明了“世界上最快的路由器”，该系统的速度比其他的方案快了接近十倍，他们称其为“Bay Bridge”并将其应用到了思科的系统中去。

但在当时，路由器的速度对于思科来说并不是那么的重要，提速就像是给他们路由器中添加一个新的特性一样。要知道，三年后第一个网页Mosaic才发明，而世界上最好的网络协议，TCP/IP也才刚刚应用于产业界来协调系统之间的数据流量。

该项目早期的工作仅与路由器中用于控制需硬件处理的数据报正常按序转递的算法有关。在Bay Bridge的基础之上，形成了Tiny-Tera项目，McKeown称“这是我们对于如何在不依赖半导体技术的情况下，建造1T/s的交换机的一次尝试，在当时这个速度看上去是非常惊人的，需要使用特定用于调度数据报的算法。”，针对这些算法的研究是他PhD工作的核心。

最终，网络产业界了解到了其工作的重要性。1995年，在他PhD生涯结束之后，McKeown在思科短暂工作了几个月，随后成为了斯坦福大学的一名教授。在思科的这一段时间中，就像他所描述的，是吉比特交换路由器(the gigabit switched router, GSR)项目的一名“协助设计师”。GSR后来成为了一款思科的旗舰路由器。

------------------

接下来，McKeown的创新成果为网络业务带来了改变。从他经手的项目 Tiny-Tera 项目中，孕育了一家以生产硬件交换机芯片为主要业务的衍生公司――Abrizio。在1997年，Mckeown 从斯坦福的工作中抽出了时间，这家公司也在风险投资的支持下成立。两年后，这家公司被 [PMC-Sierra](https://en.wikipedia.org/wiki/PMC-Sierra) 收购。

回想起这段峥嵘岁月，正如 McKeown 他自己所说，他在正确的时间、正确的地点，做了最正确的事。对于 McKeown，一个关键事件是他亲眼看到了 Mosaic 浏览器。“在九十年代末期，我不能预测会发生什么，但我意识到这将会是一场巨大的变革。为了让交换机和路由器的速度变得更快，我把未来十年时间，花在了研究算法、技术、体系结构、设计和芯片制造上。” Mckeown 说到。

## Chapter4 更便宜的芯片

对于制造昂贵的静态随机访问存储器（SRAM）芯片的制造商来说，动态 RAM （DRAM）是一个令人惊喜的发展。在个人电脑中使用的 DRAM 是一种廉价且高容量的设备。DRAM 的物理规模非常适合制造便宜的芯片，但另一方面， DRAM 是有局限性的。它限制了当数据包流经时交换机和路由器处理数据的速度。

“当网络的速度变得更快，你就需要更快的存储器，来缓存这些数据包”，Mckeown 说到。现在的情况是网络的速度提升了，数据包到达的速度已经超过存储器芯片可以处理它们的速度。所以，尽管对于每个位的存储，SRAM 芯片已经比 DRAM 要贵75倍，路由器制造商对于更快的 SRAM 技术还是有着迫切的需求。“网络行业每年在使用 SRAM 上的花费达到五亿美元，尽管如此，我们还是认为这些存储器容量太小了，价格太昂贵、又很耗电。”

McKeown用他的算法给出了提示：“我们用一个很聪明的算法和一页纸的证明过程计算出一个解决方法。你可以带着这个简单的算法来使用DRAM，我们用这个DRAM来替代SRAM ，你甚至分辨不出它与其将要替代的SRAM有什么差别。”

和之前的 Abrizio 一样，McKeown 又 建立了另一项业务，来帮助在大学中研究出来的技术转移到商业用途。不仅是算法，在这里需要有着更多的想法：需要设计能运行这种算法的芯片。在2003年，McKeown 和他的PhD学生们一起建立了另一个芯片研究公司 ―― Nemo Systems，这一次他们的方向是为网络系统研发新的 DRAM 芯片。历史重演了，McKeown 羽翼未丰的公司又在两年内被转手，而这次，接受它的是思科公司。

McKeown 对早期工作生涯中的成果都申请了专利，并因此给斯坦福和伯克利带来了百万美元的收入。然而，他在1999年把所有的专利都结束了。“我现在不再拥有任何专利，我把一切都贡献给公共领域：所有的软件、所有的思想、所有的算法。”

这反应了 McKeown 对于大学里的学术研究应该扮演什么样的角色的看法。“我坚信，作为工程科研工作者，我们的研究工作不仅仅要为一个产业去服务，也要造福整体的工程学术社区。”他的意见意味着学术界不应该太接近于工业界，否则会使学术界的思想提前停滞。他的这一思想获得了工业界如潮好评。

“我与我的 PhD 们做了一个约定”，McKeown 解释到，“每当我们在一个新的研究方向上工作了六个月，我们就会告诉我们的网络业同行们我们在做些什么。如果他们对于我们所做的感兴趣，那么我们就立即取消这个项目！我们会把这个项目提供给我们的同行，让他们亲自去尝试。毕竟，他们有比我们更多的资源。”

相反，McKeown 喜欢的，往往是那些有违直觉、带有挑战传统思维的项目。“如果我们的业界同行对我们的所做的工作感到困惑，那么有可能我们正行进在某条正确的道路之上……或者我们都有可能已经疯了！其实，最好的想法就是那些触及到现有问题的痛处，或者会让我们的同事感到厌烦、让他们亮起红灯的那些想法。在我的经验中,这种想法已经被证明是最有可能改变游戏规则的。”

如果业界对于一个想法思考已久，并承诺会继续思考，那么 McKeown 的团队就会继续这个想法，深入挖掘，并将其带的更远。但“如果他们讨厌这个想法，甚至给它亮红灯，那我反而认为这会是个好想法。”，研究者们把这些非议都抛到脑后，“这意味着，有新的思想正在转变业界进行思考的方式。”他强调，虽然这一点明显不适用于所有工程领域，但对于今天的网络，却是十分适用的。

## Chapter 5 新启

在二十一世纪头十年的中期，McKeown 经历了他的中年危机。“我对网络产业开始变得如此沮丧。我在交换机和路由器的设计领域有一定的影响力，但我找不到一个方法，能让我对互联网架构的方式产生哪怕一丁点儿影响力。在这方面，我们做的研究毫无头绪。我们可以出版所有我们需要的论文，但网络业充耳不闻。防止新的思想生根发芽，就能给业界带来巨额利润。业界本身就给新思想的注入制造了一道强大的障碍。”

McKeown 带着他的疑惑，面见了斯坦福工程学院的院长，并且有了辞职的打算。“当我正要离开的时候，他（院长）说，‘你现在也已经四十岁以上了。当你还是三十几岁的时候，你可以抱怨那群老人，说这一切都是这群老人的错，是他们阻碍了事情的进展。一旦你到了不惑之年，那么你自己就是你口中的老人了。弥补这个不足就是你的工作了。’”McKeown说，这是“我收到过的最好的一条建议”。于是，他对于这次带有威胁性质的辞职并没有坚持到底。不过，他也承认度过了感觉很沮丧的几个月。然后，他把自己“扔到了一个傲慢自大的研究项目里”―― Clean Slate 项目。他的斯坦福团队将探索“带着最近二三十年的经验，如果我们现在要从一张白纸开始，那么我们将会设计怎么样的网络？”

Clean Slate 的一项成果就是阐明了软件定义网络（software-defined
networking，SDN)的概念。SDN的发展来自于 [Martin Casado](https://en.wikipedia.org/wiki/Martin_Casado) 在 PhD 时期的工作。Martin 是一位在一个与 McKeown 工作得十分密切的小组内的一名 PhD 学生。在这个小组之内还有另一位来自伯克利的教授 ―― [Scott Shenker](https://en.wikipedia.org/wiki/Scott_Shenker)。有了 SDN 的概念，运营商不必依靠于定制的硬件芯片和特定于硬件的软件所组成的系统。相反，网络工程师可以搭建更加便宜、更加容易管理、同时还能提供更复杂的功能的网络。运营商可以决定用户得到的服务是什么，而不必取决于硬件制造商（box-makers）。

McKeown 的小组把 SDN 当做是“开启互联网基础架构创新”的一种方式。SDN致力于商业化芯片的网络，并将软件从设备中分离出，如同计算机产业所做的那样。McKeown 形容 SDN 是“25年内对传统网络最巨大的改变”，他认为“SDN真正的核心内容就是分离，将原本垂直集成的模型分离开来。”

“网络产业当然对此十分讨厌，十分抵制。”毕竟，McKeown 不仅仅只是在谈论技术。“这不只是一个简单的技术问题，这是一个商业问题。整个业界在这个垂直集成的模型中整合了，并且阻碍了那些经营和拥有网络的人们前进的脚步。”

网络供应商可能不喜欢这个新想法，但 SDN 在其他圈子的进展不错。在2007年， McKeown，Schenker 和 Casado 共同组建了 Nicira 公司，主要业务是研发供其他公司使用的、允许网络虚拟化的 SDN 软件。

在此时，谷歌、亚马逊、Facebook 和其他的一些公司都开始着手对旧时代的规则进行清理。这些企业认为 McKeown 彻底改变了他们对于搭建计算机基础设施、存储设备和网络的看法。这一切都助长了业界对于像 SDN 这样的技术的渴求。“这抓住了人们的想象力。SDN 逆转了这个行业的怪象。”尽管 Nicira 软件的部分在早期是与谷歌联合研发的，但它对于那些较小的、想从 SDN 中得到好处的公司来说也是一个巨大的成功。但和其他大型公司，如谷歌、亚马逊相比，它没有足够的工程师去研发自己的软件。

在2012年，VMware 以12.6亿美金的价格收购了 Nicira，由 Nicira 开发的 SDN 软件成为了 VMware 业务中快速增长且盈利的一部分。一份由 SDxCentral 发布的行业报告估计：到2018年，关于 SDN 的产业价值约为350亿美元。SDN 在硅谷催生了许多初创企业。也许这对 McKeown 的非正式当地高科技经济状况指示器 ―― Route 101（101路由）的流量负有一定责任。“在这繁荣的时期，这个路由变得十分忙碌。”

## Chapter 6 制造新的芯片

McKeown紧跟潮流。他在斯坦福工作，或在土耳其给青少年上课，或是支持他的另一个信念：推动加州及美国废除死刑，另外的时间他就在Barefoot Networks工作。他开始了第四次创业――以“隐形模式”在2013年开始运营。还没有关于具体这个公司要做什么的信息，但 McKeown 说到“制造新的芯片，并以全新的方式去对交换机和路由器进行编程，使用一种全新的语言――P4。”当被问到为什么要开始新一次的创业，McKeown 回答道：“为了让网络从头到尾都是可编程的。制造新的芯片，需要五千万到一亿美元的资金，这已经远远超过了大学内研究能够到的范围。你不得不以商业模式来做这件事。这个新想法就是对以前的想法的转移。”这带领我们回到了 McKeown 的处世哲学：“我寻找了提供想法的一个平衡点，我一直是免费提供的，并认为它是一个技术转移的过程。如果我的学生和我想加入它，我们可以这样做，不是把它作为一个赚钱的方式，而是帮助整个行业进步。”SDN 是另一个技术革命。“不管是从技术角度、还是商业、投资角度上来看，在基础设施上都有很多令人感兴趣和令人兴奋的改动。我告诉我的学生们，网络又变得很性感了。”对于一个在大约十年以前就认为网络十分无聊，发展停滞不前，且几乎已经要放弃了这个行业的人来说，这是一项很了不起的成就。

## Biography 个人简介 

Nick McKeown（尼克?麦克考恩），1963年7月4日出生于英国的贝尔德福。1986年取得利兹大学学士学位。1986年到1989年在英国的布里斯托尔惠普实验室网络和通信研究小组工作。1989年移居美国，并在1992年和1995年从加州大学伯克利分校取得了硕士和博士学位。1995年春，在思科公司帮助构造了 GSR 12000 路由器的体系结构。同年成为斯坦福大学电气工程和计算机科学的助理教授。1997年，Abrizio公司联合创始人，首席技术官。1999年，Abrizio 被 PMC-Sierra 以价值4亿美元的股份收购。2002年，提升为副教授。2003年， Nemo Systems 的联合创始人兼首席执行官，这个公司在2005年被思科以1250万美元现金购买。2006年，成为白纸项目（Clean Slate Program）的项目主任。2010年，升为教授。2011年当选为美国国家工程院院士。2011年，Open Networking Lab（开放网络实验室）的联合创始人之一。2013年，Barefoot Networks的创始人之一。
